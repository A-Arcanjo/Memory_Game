{"ast":null,"code":"import _regeneratorRuntime from \"/home/user/Desktop/Memory_Game/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/user/Desktop/Memory_Game/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/user/Desktop/Memory_Game/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/user/Desktop/Memory_Game/frontend/src/Components/LoginForm.jsx\";\n\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { LoginContext } from \"../App\";\n\nvar LoginForm = function LoginForm(props) {\n  var _useContext = useContext(LoginContext),\n      setUserData = _useContext.setUserData;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var updateData = function updateData(event) {\n    switch (event.target.name) {\n      case \"username\":\n        setUsername(event.target.value);\n        break;\n\n      case \"password\":\n        setPassword(event.target.value);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  var loginPlayer = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      var loginData, settings, response, parsedRes;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault();\n              loginData = {\n                username: username,\n                password: password\n              };\n              settings = {\n                method: \"POST\",\n                body: JSON.stringify(loginData),\n                headers: {\n                  \"content-Type\": \"application/json\"\n                }\n              };\n              _context.next = 5;\n              return fetch(\"http://localhost:3001\" + \"/login\", settings);\n\n            case 5:\n              response = _context.sent;\n              _context.next = 8;\n              return response.json();\n\n            case 8:\n              parsedRes = _context.sent;\n              _context.prev = 9;\n\n              if (!response.ok) {\n                _context.next = 15;\n                break;\n              }\n\n              props.setCurrentPlayerId(parsedRes.id);\n              props.isLoggedIn(true);\n              _context.next = 16;\n              break;\n\n            case 15:\n              throw new Error(parsedRes.message);\n\n            case 16:\n              _context.next = 23;\n              break;\n\n            case 18:\n              _context.prev = 18;\n              _context.t0 = _context[\"catch\"](9);\n              alert(_context.t0.message);\n              setUsername(\"\");\n              setPassword(\"\");\n\n            case 23:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[9, 18]]);\n    }));\n\n    return function loginPlayer(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Login_container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form_container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"heading_container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }, \"Login\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newForm\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: loginPlayer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 18\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"username\",\n    onChange: updateData,\n    value: username,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 18\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 19\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"password\",\n    onChange: updateData,\n    value: password,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button_container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"playButton\",\n    type: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 19\n    }\n  }, \"Login\"))))))));\n};\n\nexport default LoginForm;","map":{"version":3,"names":["React","useState","useContext","useEffect","LoginContext","LoginForm","props","setUserData","username","setUsername","password","setPassword","updateData","event","target","name","value","loginPlayer","preventDefault","loginData","settings","method","body","JSON","stringify","headers","fetch","response","json","parsedRes","ok","setCurrentPlayerId","id","isLoggedIn","Error","message","alert"],"sources":["/home/user/Desktop/Memory_Game/frontend/src/Components/LoginForm.jsx"],"sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport { LoginContext } from \"../App\";\n\nconst LoginForm =  (props) => {\n  const { setUserData } = useContext(LoginContext);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n\n  const updateData = (event) => {\n    switch (event.target.name) {\n      case \"username\":\n        setUsername(event.target.value); \n        break;\n      case \"password\":\n        setPassword(event.target.value);\n        break; \n      default:\n        break;\n    }\n  };\n\n  const loginPlayer = async (event) => {\n    event.preventDefault();\n\n    const loginData = {\n      username: username,\n      password: password\n    }\n\n    const settings = {\n      method: \"POST\",\n      body: JSON.stringify(loginData),\n      headers: {\n        \"content-Type\" : \"application/json\",\n      }\n    }\n\n    const response = await fetch(\n      \"http://localhost:3001\" + \"/login\",\n      settings\n    );\n    const parsedRes = await response.json();\n\n\n    try {\n      if(response.ok) {\n        props.setCurrentPlayerId(parsedRes.id);\n        props.isLoggedIn(true);\n      } else {\n        throw new Error(parsedRes.message);\n      }\n    } catch (err) {\n      alert(err.message)\n      setUsername(\"\");\n      setPassword(\"\");\n    }\n  };\n   \n\n  return (\n    <>\n      <div>\n        <div className=\"Login_container\">\n          <div className=\"form_container\">\n            <div className=\"heading_container\">\n              <h2>Login</h2>\n            </div>\n            <div className=\"newForm\">\n              <form onSubmit={loginPlayer}>\n                <div>\n                 <label>Username</label>\n                 <input\n                  name=\"username\"\n                  onChange={updateData}\n                  value={username}\n                 />\n                 </div>\n                 <div>\n                  <label>Password</label>\n                  <input name=\"password\" onChange={updateData} value={password} />\n                 </div>\n                 <div className=\"button_container\">\n                  <button className=\"playButton\" type=\"submit\">\n                    Login\n                 </button>\n     \n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default LoginForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}